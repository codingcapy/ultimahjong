import{u as v,j as e,L as w,c as N,r as y}from"./index-BqqUOhJR.js";import{G,c as b,u as C,a as r,D as i}from"./iconBase-DsT2YvwK.js";function E(t){return G({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M215.469 332.802l29.863 29.864L352 256 245.332 149.333l-29.863 29.865 55.469 55.469H64v42.666h205.864l-54.395 55.469zM405.334 64H106.666C83.198 64 64 83.198 64 106.666V192h42.666v-85.333h298.668v298.668H106.666V320H64v85.334C64 428.802 83.198 448 106.666 448h298.668C428.802 448 448 428.802 448 405.334V106.666C448 83.198 428.802 64 405.334 64z"},child:[]}]})(t)}const u=b((t,n)=>({games:[],setGames:s=>t({games:s})}));function L(){const t=v(),{logoutService:n,authLoading:s,user:l}=C(a=>a),{games:c,setGames:o}=u(a=>a);function x(){n(),t({to:"/"})}async function p(a){var m;a.preventDefault();try{const g={year:"New Game"};if((m=(await r.post(`${i}/api/games`,g)).data)!=null&&m.success){const f=await r.get(`${i}/api/games`),h=[];f.data.forEach(j=>h.push(j)),o([...h])}else throw new Error("Project ID not found in response")}catch(d){console.log(d)}}return e.jsxs("div",{className:"hidden w-[12%] h-screen bg-black text-white md:flex flex-col justify-between",children:[e.jsxs("div",{className:"pt-10 text-center",children:[e.jsx(w,{to:"/",className:"pt-10 text-center font-bold",children:"Ultimate MahJong"}),e.jsx("form",{onSubmit:p,children:e.jsx("button",{className:"m-10 py-2 px-5 bg-green-500 rounded",children:"New Game"})})]}),e.jsxs("div",{className:"flex p-10 pb-20 cursor-pointer",onClick:x,children:[e.jsx(E,{className:" py-1 w-[25px] h-[25px]"}),e.jsx("div",{className:"pl-2 py-0",children:"Logout"})]})]})}const I=N("/dashboard")({component:M});function M(){const{games:t,setGames:n}=u(s=>s);return y.useEffect(()=>{async function s(){const l=await r.get(`${i}/api/games`),c=[];l.data.forEach(o=>c.push(o)),n([...c])}s()},[]),e.jsx("main",{className:"flex-1 text-white",children:e.jsxs("div",{className:"flex",children:[e.jsx(L,{}),e.jsx("div",{className:"w-[100%] bg-gray-700 h-screen p-10",children:e.jsx("div",{className:"md:grid grid-cols-5 gap-3",children:t.map(s=>e.jsx("div",{className:"py-10 bg-gray-600 text-center text-white my-2 md:my-0",children:s.year},s.game_id))})})]})})}export{I as Route};

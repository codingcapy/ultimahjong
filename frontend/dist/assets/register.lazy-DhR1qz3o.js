import{c as w,u as f,r as n,a as j,j as e,L as b,D as m,b as N}from"./index-DbELjow2.js";import{L as v,a as y}from"./index-CNfj537J.js";import"./iconBase-DgdB6cJB.js";const k="/mjimg2.jpg",C=w("/register")({component:L});function L(){const d=f(),[S,o]=n.useState(""),{loginService:x}=j(s=>s),[l,u]=n.useState(!1);async function p(s){var r;s.preventDefault(),console.log(m);try{const a=s.target.email.value,i=s.target.password.value;console.log(a,i);const g={email:a,password:i},t=await N.post(`${m}/api/users`,g);(r=t==null?void 0:t.data)!=null&&r.success?(o("success! Redirecting..."),setTimeout(()=>{x(a,i),d({to:"/dashboard"})},1e3)):setTimeout(()=>{var c;o((c=t==null?void 0:t.data)==null?void 0:c.message)},1e3)}catch(a){o("There was an error signing up :( We will look into this, please try again in the near future!"),console.log(a)}}function h(){u(!l)}return e.jsx("main",{className:"flex-1",children:e.jsxs("div",{className:"md:flex",children:[e.jsxs("div",{className:"md:w-[30%] flex flex-col mx-auto ",children:[e.jsx("h1",{className:"pt-5 text-lg mx-auto text-center md:pt-20 font-bold z-10 text-white md:text-black",children:"Create an account"}),e.jsxs("form",{onSubmit:p,className:"flex flex-col mx-auto z-10 w-[300px]",children:[e.jsx("label",{htmlFor:"",className:"text-white md:text-black",children:"Email"}),e.jsx("input",{className:"border",type:"email",id:"email",name:"email",required:!0}),e.jsx("label",{htmlFor:"Password",className:"text-white md:text-black",children:"Password"}),e.jsxs("div",{className:"flex border relative",children:[e.jsx("input",{className:"w-[100%]",type:l?"text":"password",id:"password",name:"password",required:!0}),e.jsx("button",{type:"button",onClick:h,className:"absolute right-2 top-1 text-gray-400",children:l?e.jsx(v,{className:""}):e.jsx(y,{className:""})})]}),e.jsx("button",{className:"bg-green-800 text-white mt-10 px-10 py-2",children:"Register"})]}),e.jsxs("div",{className:" mt-20 text-center text-gray-500",children:["Already have an account?",e.jsx(b,{to:"/",className:"font-bold pl-2 text-black",children:"Login"})]})]}),e.jsxs("div",{className:"md:w-[70%] absolute top-0 left-0 md:relative",children:[e.jsx("div",{className:"md:hidden fixed m-2 top-0 left-0 w-[96%] h-[257px] rounded-2xl bg-black opacity-50"}),e.jsx("img",{src:k,alt:"",className:"w-[100%] p-2 rounded-2xl"})]})]})})}export{C as Route};
